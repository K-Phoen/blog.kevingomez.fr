<!DOCTYPE html>
<html class="no-js" lang="en-us" dir="ltr"><head prefix="og: http://ogp.me/ns#">
    <meta charset="utf-8" />
    <meta property="og:locale" content="en-us" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta name="author" content="Kévin Gomez" />

    <title>Split Symfony2 YAML validation configuration file &mdash; Kévin Gomez</title>
    <meta property="og:title" content="Kévin Gomez" />
    <meta property="og:type" content="website" />

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" />

    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">
    
    <link rel="stylesheet" href="/css/pygments-github.min.6404d027c779bb84523009ff4ea79fcc4ca3b7c3a439303cb0455841a8d09432.css">
    
    <link rel="stylesheet" href="/css/blog.min.901c6bc11c1cc8e166b7629105d45d68af2b61b413f246461aaa32501830a632.css">

    </head>
<body>
<div id="layout" class="pure-g"><div class="sidebar pure-u-1">
    <div class="header">
        <h1 class="brand-title">
            <a href="/">Kévin Gomez</a>
        </h1>
        <h2 class="brand-tagline">I can git now.</h2>

        <nav class="nav">
            <ul class="nav-list">
                
                <li class="nav-item">
                    <a class="pure-button" href="/bookshelf/">Bookshelf</a>
                </li>
                
                <li class="nav-item">
                    <a class="pure-button" href="/talks/">Talks</a>
                </li>
                
                <li class="nav-item">
                    <a class="pure-button" href="/about-me/">About me</a>
                </li>
                
            </ul>
        </nav>
    </div>
</div>
<div class="pure-u-1">
        <div class="content">
            <div class="job-alert">
                Are you <strong>looking for a software engineer?</strong> Perfect: <strong>I am looking for a job!</strong><br />
                <strong><a href="mailto:contact+job@kevingomez.fr">Contact me</a></strong> and let's see what awesome things we can build together!
            </div>
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
        <h1 itemprop="headline">
            
            <a href="/2013/10/14/split-symfony2-yaml-validation-configuration-file/">Split Symfony2 YAML validation configuration file</a>
        </h1>

        <span class="post-meta">
            <meta itemprop="inLanguage" content="en-us" />
            <time pubdate="pubdate" datetime="2013-10-14T00:00:00+01:00">
                <meta itemprop="datePublished" content="2013-10-14T00:00:00+01:00" />
                14 October 2013
            </time>
            —
            <span class="reading-time" title="Estimated reading time">
                
                    ~ 1 minute
                
            </span>
        </span>
    </header>

    

    <section class="post-body" itemprop="articleBody">
        <p><strong>Important</strong> : as j0k pointed out in the comments, Symfony 2.5 changed the way validation files are loaded. Refer to <a href="http://stackoverflow.com/questions/24064813/how-to-split-validation-yaml-files-in-symfony-2-5/24210501#24210501">this StackOverflow answer</a> if you are using Symfony &gt;= 2.5.</p>

<p>Defining validation rules for several entities in the same file can really be a pain. Unfortunately, Symfony2 only looks in the <em>validation.yml</em> file by default.
Let&rsquo;s see how we can split the following file:</p>

<script type="text/javascript" src="https://gist.github.com/6974497.js?file=validation.yml"></script>

<p>The solution lies in the <code>AcmeBlogExtension</code> class, and more specifically in the <code>validator.mapping.loader.yaml_files_loader.mapping_files</code> parameter. As this parameter defines the list of files used to map configuration rules to their entities, we just have to add our owns to the list.</p>

<script type="text/javascript" src="https://gist.github.com/6974497.js?file=AcmeBlogExtension.php"></script>

<p>In the extension, I assume that the validation files are stored in the <em>Resources/config/validation</em> directory. For the record, here are the files:</p>

<script type="text/javascript" src="https://gist.github.com/6974497.js?file=Post.yml"></script>

<script type="text/javascript" src="https://gist.github.com/6974497.js?file=Comment.yml"></script>

<p>If you don&rsquo;t want to list yourself the files, you can use the <code>Finder</code> class to inspect the directory for you.</p>

    </section>

    
</article>
<div class="footer">
    <div class="pure-menu pure-menu-horizontal">
        <ul>
            <li class="pure-menu-item"><a href="https://twitter.com/KPhoen/" class="pure-menu-link">Twitter</a></li>
            <li class="pure-menu-item"><a href="https://github.com/K-Phoen/" class="pure-menu-link">GitHub</a></li>
            <li class="pure-menu-item"><a href="https://www.linkedin.com/in/kevingomez/" class="pure-menu-link">LinkedIn</a></li>
        </ul>
    </div>
</div>
</div>
    </div>
</div>
</body>
</html>
